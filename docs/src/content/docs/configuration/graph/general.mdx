---
title: General
description: Learn how to configure the general settings of the graph component.
sidebar:
  order: 2
  badge:
    text: Updated
    variant: tip
sitemap:
  pageTitle: Graph General Config
---

import GraphExample from "../../../../components/GraphExample.astro";
import { Badge, FileTree, Tabs, TabItem } from '@astrojs/starlight/components';

import { overrideConfig } from '../generationUtil.js';
import {
	directoriesExampleSitemap,
	nonInteractiveConfig, frozenConfig, largeFrozenSitemapConfig, largeRandomNodeSitemap,
	randomNodeSitemap
} from '../constants.js';

This page gives an overview of all the general configuration options for the graph component,
specifically about how it is determines which nodes are shown in the graph, what actions are available, and when the graph is displayed.

## Depth

The `depth` option determines the depth of the graph, how many levels of links are shown.
- `-x`: Show the entire graph (the particular value of `x` is ignored).
- `0`: Show only the current node.
- `1`: Show the current node and its immediate neighbors.
- `x`: Show nodes up to `x` hops away from the current node.
- `5>`: Show the entire graph (the particular value of `x` is ignored).

When the depth is negative, the graph will show _all_ nodes in the graph, even if they are not reachable from the current node.

The graph will be traversed in the direction specified by the `depthDirection` option.

<GraphExample id="depth-showcase" config={{
	graphConfig: { depth: 1 },
}} baseConfig={overrideConfig(largeFrozenSitemapConfig, { graphConfig: { scale: 0.65 }})} sitemap={largeRandomNodeSitemap} slug={"/node/"} configListener
	sliders={{
		"graphConfig.depth": {
			"title": "depth",
			"min": -1,
			"max": 5,
			"step": 1,
			"val": 1,
		}
	}}
/>

## Depth Direction

The `depthDirection` option determines the direction in which the links of the graph are expanded.
- `both`: The graph will be expanded in both directions.
- `incoming`: The graph will only be expanded in the direction of incoming links.
- `outgoing`: The graph will only be expanded in the direction of outgoing links.

This setting is ignored once a depth of 5 or higher is reached.

<GraphExample id="depth-direction-showcase" config={{
	graphConfig: {
		depth: 1,
		depthDirection: "both",
	}
}} baseConfig={overrideConfig(largeFrozenSitemapConfig, { graphConfig: { scale: 0.65, minZoomArrows: 0.01, arrowSize: 3 }})} sitemap={largeRandomNodeSitemap} slug={"/node/"} configListener
	sliders={{
		"graphConfig.depth": {
			"title": "depth",
			"min": -1,
			"max": 5,
			"step": 1,
			"val": 1,
		}
	}}
	buttons={{
	  "both": { config: { graphConfig: { depthDirection: "both" } } },
	  "incoming": { config: { graphConfig: { depthDirection: "incoming" } } },
	  "outgoing": { config: { graphConfig: { depthDirection: "outgoing" } } },
	}}
/>

## Actions

`actions` is an array of strings which specify which action buttons are included in the graph. \
The order of the actions in the array determines the order in which they are displayed in the top right of the graph.

For more information on what each individual action does, see the [Graph Actions](/starlight-site-graph/configuration/graph/actions) page.

<GraphExample id="action-configuration" config={{ graphConfig: {
	actions: ["fullscreen", "depth", "reset-zoom", "render-arrows", "render-external", "render-unresolved", "settings"],
	depth: 4,
}}} baseConfig={frozenConfig} sitemap={randomNodeSitemap} slug={"/node/"} configListener />

## <Badge text="New" variant="caution" size="large" /> Inclusion Rules

With the `nodeInclusionRules` option, you can specify which nodes should be included in the graph at all.
This is a list of [glob patterns](/starlight-site-graph/concepts/globs) that determine which pages are included in the graph.
By default, all nodes are included (`["**/*"]`) in the graph.

<GraphExample id="click-configuration" config={{ graphConfig: {
	nodeInclusionRules: ['**/*'],
}}} baseConfig={overrideConfig(nonInteractiveConfig, { graphConfig: { scale: 0.9, depth: 5, labelOpacityScale: 5 } })} sitemap={directoriesExampleSitemap} slug={"/1/"}
			  buttons={{
				  "['**/*']": { config: { graphConfig: { nodeInclusionRules: ['**/*'] } } },
				  "['!**/x/**']": { config: { graphConfig: { nodeInclusionRules: ['!**/x/**'] } } },
				  "['!**/1/']": { config: { graphConfig: { nodeInclusionRules: ['!**/1/'] } } },
				  "['!/1/']": { config: { graphConfig: { nodeInclusionRules: ['!/1/'] } } },
			  }}
/>

## Visibility Rules

The `visibilityRules` option is a list of [glob patterns](/starlight-site-graph/concepts/globs) that determine when the [`<PageGraph />` component](/starlight-site-graph/components/pagegraph)
(e.g. the graph in the Starlight sidebar) will be shown.
When using the plugin it its default configuration (with Starlight), the graph will also only be shown if the sidebar is visible.

:::note[Note]
These rules apply to the _slug_ of the page, not its file path.
:::

<Tabs>
	<TabItem label='["**/*"]'>
		`<PageGraph />` is shown on all pages.
		<FileTree>
			- **private**
				- **page** // `<PageGraph>` is shown
			- **public**
				- **page** // `<PageGraph>` is shown
				- **cool-stuff** // `<PageGraph>` is shown
		</FileTree>
	</TabItem>
	<TabItem label='["!**/*", "**/*"]'>
		`<PageGraph />` is never shown because the first rule matches and rejects all pages.
		<FileTree>
			- private
				- page // `<PageGraph>` is _not_ shown
			- public
				- page // `<PageGraph>` is _not_ shown
				- cool-stuff // `<PageGraph>` is _not_ shown
		</FileTree>
	</TabItem>
	<TabItem label='["**/public/*"]'>
		`<PageGraph />` is only shown on pages containing the `public` directory in their slug.
		<FileTree>
			- private
				- page // `<PageGraph>` is _not_ shown
			- **public**
				- **page** // `<PageGraph>` is shown
				- **cool-stuff** // `<PageGraph>` is shown
		</FileTree>
	</TabItem>
	<TabItem label='["**/page"]'>
		`<PageGraph />` is only shown on pages ending on the `page` slug.
		<FileTree>
			- private
				- **page** // `<PageGraph>` is shown
			- public
				- **page** // `<PageGraph>` is shown
				- cool-stuff // `<PageGraph>` is _not_ shown
		</FileTree>
	</TabItem>
	<TabItem label='["/public/page"]'>
		`<PageGraph />` is shown only on the page with the exact slug `/public/page`.
		<FileTree>
			- private
				- page // `<PageGraph>` is shown
			- public
				- **page** // `<PageGraph>` is shown
				- cool-stuff // `<PageGraph>` is _not_ shown
		</FileTree>
	</TabItem>
</Tabs>

